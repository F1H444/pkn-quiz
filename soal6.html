<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soal 6 - Hari Raya & Agama</title>
    <style>
        :root {
            --bg: #000000;
            --card: #ffffff;
            --accent: #ffee00;
            --correct: #00ff88;
            --wrong: #ff0055;
            --border: 5px solid #000000;
        }

        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
            font-family: 'Arial Black', sans-serif; 
        }

        body {
            background-color: var(--bg);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .quiz-container {
            background: var(--card);
            border: var(--border);
            box-shadow: 15px 15px 0px var(--accent);
            width: 95vw;
            max-width: 1000px;
            padding: 30px;
            position: relative;
            margin: auto;
        }

        .header-ui {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .badge {
            border: 3px solid #000;
            padding: 5px 15px;
            background: #fff;
        }

        .instruction {
            background: #000; color: #fff;
            padding: 15px; text-align: center;
            margin-bottom: 25px; font-size: 1rem;
        }

        .match-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }

        @media (max-width: 850px) {
            .match-area { grid-template-columns: 1fr; }
            body { align-items: flex-start; }
            .item, .drop-zone { width: 100%; margin-bottom: 10px; }
        }

        /* Draggable Items */
        .source-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .draggable-item {
            background: #fff;
            border: 3px solid #000;
            padding: 15px;
            cursor: grab;
            text-align: center;
            font-weight: 900;
            box-shadow: 5px 5px 0px #ccc;
            transition: 0.2s;
        }

        .draggable-item:hover {
            transform: translate(-3px, -3px);
            box-shadow: 8px 8px 0px var(--accent);
            background: var(--accent);
        }

        .draggable-item.dragging {
            opacity: 0.5;
        }

        /* Drop Zones */
        .target-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .drop-zone {
            background: #f4f4f4;
            border: 3px dashed #000;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 70px;
            transition: 0.3s;
        }

        .drop-zone.drag-over {
            background: #e0e0e0;
            border-style: solid;
        }

        .drop-zone span {
            pointer-events: none;
        }

        .drop-zone .zone-label {
            font-weight: 900;
            text-decoration: underline;
        }

        .placed-item {
            background: #000;
            color: #fff;
            padding: 5px 10px;
            font-size: 0.8rem;
            transform: rotate(-2deg);
            border: 2px solid #fff;
        }

        .correct { background: var(--correct); border-color: var(--correct); }
        .wrong { background: var(--wrong); border-color: var(--wrong); }

        #check-btn {
            margin-top: 30px;
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            background: #000;
            color: #fff;
            border: none;
            cursor: pointer;
            font-family: 'Arial Black', sans-serif;
            text-transform: uppercase;
            box-shadow: 8px 8px 0px var(--accent);
        }

        #check-btn:hover {
            transform: translate(-2px, -2px);
            box-shadow: 12px 12px 0px var(--accent);
        }

        .creators-box {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            background: #fff;
            border: 3px solid #000;
            padding: 10px;
            box-shadow: 5px 5px 0px #000;
            font-family: 'Arial Black', sans-serif;
            font-size: 10px;
            line-height: 1.4;
            text-transform: uppercase;
        }
    </style>
    <script src="quiz-core.js"></script>
</head>
<body>

    <div class="quiz-container">
        <div class="header-ui">
            <div class="badge">SKOR: <span id="score">0</span></div>
            <div class="badge" id="timer">02:00</div>
        </div>

        <div class="instruction">
            SERET NAMA HARI RAYA KE DALAM KOTAK AGAMA YANG SESUAI!
        </div>

        <div class="match-area">
            <!-- Left: Draggables -->
            <div class="source-container" id="source-list">
                <div class="draggable-item" draggable="true" id="nyepi" data-val="Hindu">NYEPI</div>
                <div class="draggable-item" draggable="true" id="waisak" data-val="Buddha">WAISAK</div>
                <div class="draggable-item" draggable="true" id="imlek" data-val="Konghucu">IMLEK</div>
                <div class="draggable-item" draggable="true" id="iduladha" data-val="Islam">IDUL ADHA</div>
                <div class="draggable-item" draggable="true" id="natal" data-val="Kristen">NATAL</div>
            </div>

            <!-- Right: Drop Targets -->
            <div class="target-container">
                <div class="drop-zone" data-target="Islam">
                    <span class="zone-label">ISLAM</span>
                </div>
                <div class="drop-zone" data-target="Kristen">
                    <span class="zone-label">KRISTEN</span>
                </div>
                <div class="drop-zone" data-target="Hindu">
                    <span class="zone-label">HINDU</span>
                </div>
                <div class="drop-zone" data-target="Buddha">
                    <span class="zone-label">BUDDHA</span>
                </div>
                <div class="drop-zone" data-target="Konghucu">
                    <span class="zone-label">KONGHUCU</span>
                </div>
            </div>
        </div>

        <button id="check-btn" onclick="checkAnswers()">CEK JAWABAN</button>
    </div>

    <div class="creators-box">
        1. Arya Bilal Azzuri / 08 / XII RPL 3<br>
        2. Fiha Aridhoi / 18 / XII RPL 3<br>
        3. Muhammad Ayman Hammami / 26 / XII RPL 3
    </div>

    <script>
        document.getElementById('score').innerText = localStorage.getItem('totalScore') || 0;
        
        // Randomize source list
        const sourceList = document.getElementById('source-list');
        for (let i = sourceList.children.length; i >= 0; i--) {
            sourceList.appendChild(sourceList.children[Math.random() * i | 0]);
        }

        const draggables = document.querySelectorAll('.draggable-item');
        const dropZones = document.querySelectorAll('.drop-zone');

        draggables.forEach(draggable => {
            draggable.addEventListener('dragstart', () => {
                draggable.classList.add('dragging');
            });
            draggable.addEventListener('dragend', () => {
                draggable.classList.remove('dragging');
            });
        });

        dropZones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault();
                zone.classList.add('drag-over');
            });

            zone.addEventListener('dragleave', () => {
                zone.classList.remove('drag-over');
            });

            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('drag-over');
                const dragged = document.querySelector('.dragging');
                if(!dragged) return;

                // Check if zone already has an item? Replace or Reject?
                // Let's allow strictly one item per zone for simplicity in this logic
                const existing = zone.querySelector('.placed-item');
                if(existing) {
                    // Return existing to source list or swap?
                    // Simple: Remove existing visual text, put it back to source list logic?
                    // Easiest: Just append new div, remove dragged from source. 
                    // If multiple, user can drag out?
                    // Let's keep it simple: Append to zone. If zone full, maybe ignore?
                    // Given the design, we can just allow appending.
                }

                // Move visual
                // Instead of moving the card, let's create a "chip" inside the zone
                // and hide the source card.
                
                // Clear zone first to enforce 1-to-1
                const currentChip = zone.querySelector('.placed-item');
                if(currentChip) {
                   // Calculate which item this chip represented and show it back in source list?
                   // A bit complex. Let's make it simpler:
                   // Just append the draggable element itself into the zone?
                   // Yes.
                }

                // If zone has a draggable-item, move it back to source-list
                const occupied = zone.querySelector('.draggable-item');
                if(occupied) {
                   sourceList.appendChild(occupied);
                }

                zone.appendChild(dragged);
            });
        });

        function checkAnswers() {
            let correctCount = 0;
            let total = 0;
            let allPlaced = true;

            dropZones.forEach(zone => {
                const item = zone.querySelector('.draggable-item');
                if(item) {
                    total++;
                    if(item.dataset.val === zone.dataset.target) {
                        correctCount++;
                        item.style.backgroundColor = "var(--correct)";
                        item.style.color = "#000";
                    } else {
                        item.style.backgroundColor = "var(--wrong)";
                        item.style.color = "#fff";
                    }
                } else {
                    allPlaced = false;
                }
            });

            if(!allPlaced && total < 5) {
                alert("Harap pasangkan semua item sebelum memeriksa!");
                return;
            }

            if(correctCount === 5) {
                QuizCore.updateScore(10);
                document.getElementById('score').innerText = localStorage.getItem('totalScore');
                document.body.style.backgroundColor = "var(--correct)";
                setTimeout(() => window.location.href = 'soal7.html', 1500);
            } else {
                document.body.style.backgroundColor = "var(--wrong)";
                setTimeout(() => window.location.href = 'soal7.html', 2000); // Fail proceed
            }
        }
    </script>
</body>
</html>